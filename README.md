# Solid

## Введение
Принципы solid:
1. Принцип единственной ответсвенности (SRP - Single Responsibility Principle)
2. Принцип открытости/закрытости (OCP - Open/Close Principle)
3. Принцип подстановки Барбары Лисков (LSP - Liskov's Substitution Principle)
4. Принцип разделения интерфейсов (ISP - Interface Segregation Principle)
5. Принцип инверсии зависимостей (DIP - Dependency Inversion Principle)

## Принцип единственной ответсвенности (SRP - Single Responsibility Principle)
<p>Класс должен иметь только одну и только одну причину для изменений. Т.е. у него должна быть своя некая роль, которая
изменяется только по единственной причине. У класса должна быть своя маленькая зона ответсвенности.</p>

<p><a href="src/main/java/ru/atom/solid/srp/violation/Phone.java">Пример нарушения приницпа SRP</a></p>
<p><a href="src/main/java/ru/atom/solid/srp/solution/Phone.java">Пример исправления нарушения</a></p>

## Принцип открытости/закрытости (OCP - Open/Close Principle)
<p>Программные сущности(классы, модули, функции и т.п.) должны быть открыты для расширения, но закрыты для изменения.
</p>
<p><a href="src/main/java/ru/atom/solid/ocp/violation/LoanApprovalHandler.java">Пример нарушения приницпа OCP</a></p>
<p><a href="src/main/java/ru/atom/solid/ocp/solution/LoanApprovalHandler.java">Пример исправления нарушения</a></p>

## Принцип подстановки Барбары Лисков (LSP - Liskov's Substitution Principle)
<p>Объекты должны быть заменяемыми на экземпляры их подтипов без изменения правильности выполнения программы. 
Наследующий класс должен дополнять, а не изменять базовый.</p>
<p><a href="src/main/java/ru/atom/solid/lsp/violation/WinampMediaPlayer.java">Пример нарушения приницпа LSP</a></p>
<p><a href="src/main/java/ru/atom/solid/lsp/solution/WinampMediaPlayer.java">Пример исправления нарушения</a></p>

## Принцип разделения интерфейсов (ISP - Interface Segregation Principle)
<p>Много специальных интерфейсов лучше, чем один универсальный, в котором есть часть востребованных и часть редко 
вызываемых методов.</p>
<p><a href="src/main/java/ru/atom/solid/isp/violation/OrderService.java">Пример нарушения приницпа ISP</a></p>
<p><a href="src/main/java/ru/atom/solid/isp/solution/OrderProcesingService.java">Пример исправления нарушения</a></p>

## Принцип инверсии зависимостей (DIP - Dependency Inversion Principle)
<p>Модули верхнего уровня не должны зависеть от модулей нижнего уровня. Оба должны зависеть от абстракций. Абстракции
не должны зависеть от деталей. Детали должны зависеть от абстракций. Т.е. зависить надо от абстракций, а не 
реализаций.</p>
Стабильность архитектуру обеспечивают следующие пункты:
<ul>
<li>Все переменные-члены класса должны быть или абстрактными классами, или интерфейсами</li>
<li>Классы не должны наследоваться от не абстрактных классов или интерфейсов</li>
<li>Методы не должны замещать методы реализации</li>
<li>Никогда не упоминайте названия чего либо конкретного</li>
</ul>
<p><a href="src/main/java/ru/atom/solid/dip/LoginManager.java/">Пример DIP</a></p>

## Дополнительно
### Устойчивость
Зависимости должны быть направлены в сторону устойчивости.
<p>Устойчивость расчитывается по формуле <i>I = fan_out ÷ (fan_out + fan_in)</i>, где </p>
<p><i>fan_out</i> - количество исходящих 
зависимостей. Эта метрика определяет количество классов внутри данного компонента, зависящих от классов за его
пределами.</p>
<p><i>fan_in</i> количество входящих зависимостей. Эта метрика определяет количество классов вне данного компонента,
которые зависят от классов внутри компонента.</p>
<p>I = 1 - максимально неустойчивый компонент, I = 0 - максимально устойчивый компонент. Изменяемые компоненты находятся
вверху и зависят от устойчивого компонента внизу. Размещение неустойчивых компонентов в верхней части диаграммы — 
общепринятое и очень удобное соглашение, потому что любые стрелки, направленные вверх, ясно покажут нарушение принципа
устойчивых зависимостей (и, как вы убедитесь далее, принципа ацикличности зависимостей).</p>

### Абстрактность
<p>Мерой абстрактности компонента служит метрика <i>A</i>. Ее значение определяется простым отношением количества
интерфейсов и абстрактных классов к общему числу классов в компоненте.</p>

- _Nc_: число классов в компоненте. 
- _Na_: число абстрактных классов и интерфейсов в компоненте.
- _A_: абстрактность. _A = Na ÷ Nc_.

<p>Значение метрики A изменяется в диапазоне от 0 до 1. 0 означает полное отсутствие абстрактных классов в компоненте, 
а 1 означает, что компонент не содержит ничего, кроме абстрактных классов.</p>

### Главная последовательность
<p>Теперь мы можем определить зависимость между устойчивостью (I) и абстрактностью (A). В идеале классы должны
находиться в зоне главной последовательности.</p>
<img src="/src/main/resources/images/zones.png" style="height: 624px; width:702px;" title="Зоны исключения" alt=""/>
<p><b>Зона боли</b>: Такие компоненты нежелательны, потому что слишком жесткие. Их нельзя расширить, потому что они 
неабстрактные, и очень трудно изменить из-за большой устойчивости.</p>
<p><b>Зона бесполезности</b>: Такие компоненты также нежелательны, потому что они максимально абстрактны и не имеют 
входящих зависимостей. Они бесполезны.</p>

### Связность компонентов
- **REP**: Reuse/Release Equivalence Principle — принцип эквивалентности повторного использования и выпусков. 
Единица повторного использования есть единица выпуска(крч надо все версионировать).
- **CCP**: Common Closure Principle — принцип согласованного изменения. В один компонент должны включаться классы,
изменяющиеся по одним причинам и в одно время. В разные компоненты должны включаться классы, изменяющиеся в разное время
и по разным причинам.
- **CRP**: Common Reuse Principle — принцип совместного повторного использования. Не вынуждайте пользователей компонента
зависеть от того, чего им не требуется.

### Дополнительная инфа
<img src="/src/main/resources/images/1.png" style="height: 549px; width:687px;" title="" alt=""/>
<img src="/src/main/resources/images/2.png" style="height: 545px; width:686px;" title="" alt=""/>
<img src="/src/main/resources/images/3.png" style="height: 552px; width:693px;" title="" alt=""/>
<img src="/src/main/resources/images/4.png" style="height: 443px; width:764px;" title="" alt=""/>
